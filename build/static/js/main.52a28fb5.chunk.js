(this["webpackJsonpgeotracker-client"]=this["webpackJsonpgeotracker-client"]||[]).push([[0],{297:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(18),o=n.n(i),s=(n(297),n(73)),l=n(25),d=n(44),u=n(379),j=n(386),b=n(12),p=n(360),O=n(361),h=n(65),y=n(315),x=n(362),f=n(201),v=n.n(f),m=n(389),g=n(363),C=n(364),w=n(370),S=n(365),k=n(366),I=n(367),N=n(120),T=n.n(N),A=n(202),E=n.n(A),P=n(135),R=n.n(P),D=n(204),M=n.n(D),L=n(206),W=n.n(L),G=n(205),$=n.n(G),Y=n(390),U=n(369),B=n(368),F=n(203),V=n.n(F),J=n(371),q=n(357),H=n(200),z=n.n(H),_=n(372),K=n(373),Q=n(207),X=n.n(Q),Z=n(208),ee=n.n(Z),te=n(209),ne=n.n(te),ae=n(112),ce=n.n(ae),re=function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(b.a)(i,2),s=o[0],l=o[1];return Object(a.jsxs)("div",{style:{height:"100%"},children:[Object(a.jsx)(q.a,{color:"primary","aria-label":"add",style:{zIndex:999,position:"absolute",top:96,right:32},children:Object(a.jsx)(z.a,{})}),Object(a.jsx)("div",{style:{height:64},children:Object(a.jsxs)(p.a,{position:"static",children:[Object(a.jsxs)(O.a,{children:[Object(a.jsx)(x.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(e,t){l(!0)},children:Object(a.jsx)(v.a,{})}),Object(a.jsx)(h.a,{variant:"h6",style:{flexGrow:1},children:Object(a.jsx)("span",{color:"textPrimary",children:"London"})}),Object(a.jsx)(x.a,{color:"inherit","aria-label":"search",children:Object(a.jsx)(ce.a,{})}),Object(a.jsx)(y.a,{color:"inherit",variant:"outlined","aria-label":"login",children:"Login"})]}),Object(a.jsxs)(m.a,{anchor:"left",open:s,onClose:function(e,t){l(!1)},children:[Object(a.jsxs)(g.a,{children:[Object(a.jsx)(C.a,{disableSticky:!0,children:"Overlay Data"}),Object(a.jsxs)(S.a,{button:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(E.a,{})}),Object(a.jsx)(I.a,{primary:"None"})]}),Object(a.jsxs)(S.a,{button:!0,selected:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(T.a,{color:"primary"})}),Object(a.jsx)(I.a,{primary:"Wikipedia Terrorism Reports",secondary:"(1970-2021) 3,231 Incidents"}),Object(a.jsx)(B.a,{children:Object(a.jsx)(x.a,{children:Object(a.jsx)(V.a,{})})})]}),Object(a.jsx)(S.a,{children:Object(a.jsx)(U.a,{value:"end",control:Object(a.jsx)(Y.a,{color:"secondary",checked:!0}),label:"(1970 - 2018) 3,231 Incidents",labelPlacement:"end"})}),Object(a.jsx)(S.a,{children:Object(a.jsx)(U.a,{value:"end",control:Object(a.jsx)(Y.a,{color:"secondary"}),label:"(2000 - 2018) 1,732 Incidents",labelPlacement:"end"})}),Object(a.jsx)(S.a,{children:Object(a.jsx)(U.a,{value:"end",control:Object(a.jsx)(Y.a,{color:"secondary"}),label:"(2015 - 2018) 543 Incidents",labelPlacement:"end"})}),Object(a.jsx)(S.a,{children:Object(a.jsx)(U.a,{value:"end",control:Object(a.jsx)(Y.a,{color:"secondary"}),label:"(2018) 109 Incidents",labelPlacement:"end"})}),Object(a.jsxs)(S.a,{button:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(T.a,{})}),Object(a.jsx)(I.a,{primary:"Global Terrorism Database",secondary:"(1970-2018) 175,000 Incidents"})]}),Object(a.jsxs)(S.a,{button:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(T.a,{color:"inherited"})}),Object(a.jsx)(I.a,{primary:"Voyage Manager Events",secondary:"(Last 3 Days) 32 Events"})]})]}),Object(a.jsx)(w.a,{}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(C.a,{disableSticky:!0,children:"Overlay People"}),Object(a.jsxs)(S.a,{button:!0,selected:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(M.a,{color:"primary"})}),Object(a.jsx)(I.a,{primary:"None"})]}),Object(a.jsxs)(S.a,{button:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(R.a,{})}),Object(a.jsx)(I.a,{primary:"Current Positions",secondary:"23 Collogues"})]}),Object(a.jsxs)(S.a,{button:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(R.a,{})}),Object(a.jsx)(I.a,{primary:"Current & Future Positions",secondary:"23 Collogues"})]})]}),Object(a.jsx)(w.a,{}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(C.a,{disableSticky:!0,children:"Display"}),Object(a.jsxs)(S.a,{button:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)($.a,{})}),Object(a.jsx)(I.a,{primary:"All Regions"})]}),Object(a.jsxs)(S.a,{button:!0,selected:!0,children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(W.a,{color:"primary"})}),Object(a.jsx)(I.a,{primary:"Regions Containing Data"})]})]}),Object(a.jsx)(w.a,{}),Object(a.jsx)(g.a,{style:{maxWidth:364},children:Object(a.jsx)(S.a,{children:Object(a.jsx)(I.a,{primary:"Due to license restrictions we can not freely share the Global Terrorism Database or Voyage Manager Events",secondary:"If you are a registered user of Voyage Manager please contact our partner for an access instructions"})})})]})]})}),Object(a.jsx)("div",{style:{height:"calc(100% - 128px)"},children:Object(a.jsx)(J.a,{maxWidth:!1,disableGutters:!0,style:{height:"100%",width:"100%",overflow:"auto",position:"relative",border:"10px solid Gainsboro"},children:Object(a.jsx)("div",{style:{height:"100%",width:"100%",backgroundColor:"Silver"},children:"\xa0"})})}),Object(a.jsx)("div",{style:{height:64},children:Object(a.jsxs)(_.a,{style:{position:"relative",bottom:0},value:n,onChange:function(e,t){r(t)},showLabels:!0,children:[Object(a.jsx)(K.a,{label:"Data",icon:Object(a.jsx)(X.a,{})}),Object(a.jsx)(K.a,{label:"Map",icon:Object(a.jsx)(ee.a,{})}),Object(a.jsx)(K.a,{label:"Globe",icon:Object(a.jsx)(ne.a,{})})]})})]})},ie=n(27),oe=n(388),se=n(21),le=function(){return new URLSearchParams(Object(l.g)().search)},de=function(){return(le().get("show")||"").toUpperCase()},ue=function(){return(le().get("overlay")||"").toUpperCase()},je=function(){var e=Object(l.f)(),t=de(),n=ue();return[e.location.pathname+e.location.search,function(a){var c=a.nextPath,r=a.nextShow,i=a.nextOverlay,o=c||e.location.pathname,s="show=".concat(r||t),l="overlay=".concat(i||n),d="";s&&l?d="?".concat(s,"&").concat(l):(s||l)&&(d="?".concat(s).concat(l)),d=d.toLowerCase(),e.push("".concat(o).concat(d))}]},be=n(13),pe=function(e,t){e.select("#map-display-globe").append("path").datum({type:"Sphere"}).attr("class","globe").attr("d",t)},Oe=function(e,t){var n=be.d();e.select("#map-display-graticule").append("path").datum(n()).attr("class","graticule").attr("d",t)},he=function(e,t,n,a,c){if(n){var r=n.filter((function(e){return e.outline})).map((function(e){var t=JSON.parse(e.outline);return t.properties={name:e.countryName,id:e.id,type:"COUNTRY"},t})),i=e.select("#map-display-countries").selectAll("path").data(r,(function(e){return e.properties.id}));i.enter().append("path").attr("class","country").attr("fill","gainsboro").attr("stroke","DarkSeaGreen").attr("stroke-opacity",.25).attr("stroke-width","1px").attr("d",t),i.exit().remove(),e.select("#map-display-countries").selectAll("path").on("mouseover",(function(e,t){a&&a.id===t.properties.id||be.k(this).style("fill","DarkSeaGreen")})).on("mouseout",(function(e,t){be.k(this).style("fill","gainsboro")})).on("dblclick",(function(e,t){c&&c({type:"COUNTRY",id:t.properties.id,iso2Code:t.properties.iso2Code})})),a&&e.select("#map-display-countries").selectAll("path").attr("opacity",(function(e){return a.id===e.properties.id?.1:.25}))}},ye=function(e,t,n,a,c){if(n){var r=n.filter((function(e){return e.outline})).map((function(e){var t=JSON.parse(e.outline);return t.properties={name:e.stateName,id:e.id,type:"STATE"},t})),i=e.select("#map-display-states").selectAll("path").data(r,(function(e){return e.properties.id}));i.enter().append("path").attr("class","state").attr("fill","gainsboro").attr("stroke","DarkSeaGreen").attr("stroke-width","1px").attr("d",t),i.exit().remove(),e.select("#map-display-states").selectAll("path").on("mouseover",(function(e,t){a&&a.id===t.properties.id||be.k(this).style("fill","DarkSeaGreen")})).on("mouseout",(function(e,t){be.k(this).style("fill","gainsboro")})).on("dblclick",(function(e,t){c&&c({type:"STATE",id:t.properties.id,iso2Code:t.properties.iso2Code})})),a&&e.select("#map-display-states").selectAll("path").attr("opacity",(function(e){return a.id!==e.properties.id?.25:1}))}},xe=function(e,t,n,a,c){if(n){var r=n.filter((function(e){return e.outline})).map((function(e){var t=JSON.parse(e.outline);return t.properties={name:e.name,id:e.id,type:"CITY"},t})),i=e.select("#map-display-cities").selectAll("path").data(r,(function(e){return e.properties.id}));i.enter().append("path").attr("class","city").attr("fill","Peru").attr("stroke-width","0px").attr("opacity",.75).attr("d",t),i.exit().remove(),e.select("#map-display-cities").selectAll("path").on("mouseover",(function(e,t){a&&a.id===t.properties.id||be.k(this).style("fill","SaddleBrown")})).on("mouseout",(function(e,t){be.k(this).style("fill","Peru")})).on("dblclick",(function(e,t){c&&c({type:"CITY",id:t.properties.id})})),a&&e.select("#map-display-cities").selectAll("path").attr("opacity",(function(e){return a.id!==e.properties.id?.15:.25}))}},fe=n(212),ve=n.n(fe),me=function(e,t,n){var a=[];a.push([e+n*Math.cos(0),t+n*Math.sin(0)]);for(var c=1;c<=6;c+=1)a.push([e+n*Math.cos(2*c*Math.PI/6),t+n*Math.sin(2*c*Math.PI/6)]);return[a]},ge=function(e,t,n,a){if(n&&0!==n.length){var c=!0===a?.05:.5,r=n.filter((function(e){return null!==e.longitude&&null!==e.latitude})).map((function(e){var t={type:"Polygon",coordinates:me(e.longitude,e.latitude,c)};return t.properties={eventCount:e.eventCount,id:e.id,type:"marker"},ve()(t,!0)})),i=r.reduce((function(e,t){var n=(t.properties||{}).eventCount;return e[1]||(e[1]=n),e[0]||(e[0]=n),e[1]<n&&(e[1]=n),e[0]>n&&(e[0]=n),e}),[void 0,void 0]),o=Object(b.a)(i,2),s=o[0],l=o[1],d=be.i().domain([s,l]),u=be.j((function(e){return be.h(d(e))})),j=e.select("#map-display-markers").selectAll("path").data(r,(function(e){return e.id}));j.enter().append("path").attr("class","marker").attr("fill",(function(e){return u(e.properties.eventCount)})).attr("opacity",.8).attr("pointer-events","none").attr("d",t),j.exit().remove()}},Ce=function(e,t,n,a){if(n&&n.events&&0!==n.events.length){var c=!0===a?10:50,r=n.events.filter((function(e){return null!==e.longitude&&null!==e.latitude})),i=e.select("#map-display-events").selectAll("circle").data(r,(function(e){return e.id}));i.enter().append("circle").attr("cx",(function(e){return t([e.longitude,e.latitude])[0]})).attr("cy",(function(e){return t([e.longitude,e.latitude])[1]})).attr("r",c).attr("stroke-width",1).attr("fill-opacity",.4).attr("stroke-opacity",.8).attr("fill",(function(e){return e.numberKilled>0?"Crimson":"CornflowerBlue"})).attr("stroke",(function(e){return e.numberKilled>0?"Crimson":"CornflowerBlue"})).attr("pointer-events","none"),i.exit().remove()}},we=function(e,t,n){t&&t.length>0&&(n&&n.length>0?e.select("#map-display-countries").selectAll("path").attr("opacity",.1):e.select("#map-display-countries").selectAll("path").attr("opacity",.5),e.select("#map-display-states").selectAll("path").attr("opacity",.2),e.select("#map-display-cities").selectAll("path").attr("opacity",.2))},Se=function(e){e.selectAll("path").remove(),e.selectAll("circle").remove()},ke=function(e,t,n,a,c,r){if(e){var i=JSON.parse(e.outline),o=be.b(i),s=be.a(i),l=t*n/(s[1][0]-s[0][0]),d=t*a/(s[1][1]-s[0][1]),u=l<d?l:d;c.scale(u*r).center(o)}};var Ie=function(e){var t=be.m().scaleExtent([.001,250]).on("zoom",(function(t){return function(e,t){t.selectAll("path").attr("vector-effect","non-scaling-stroke").attr("transform",e.transform),t.selectAll("circle").attr("vector-effect","non-scaling-stroke").attr("transform",e.transform)}(t,e)}));e.call(t)},Ne=1/2.6/Math.PI,Te=function(e){var t=e.targetSVG,n=e.height,a=e.width,c=e.onSelection,r=e.countries,i=e.states,o=e.cities,s=e.markers,l=e.selectedCountry,d=e.selectedState,u=e.selectedCity,j=e.smallMarkers,b=u||d||l,p=be.k(t),O=a*Ne,h=be.e().scale(O).translate([a/2,n/2]),y=be.g().projection(h);ke(b,O,a,n,h,Ne),Se(p),pe(p,y),Oe(p,y),he(p,y,r,l,c),ye(p,y,i,d,c),xe(p,y,o,u,c),ge(p,y,s,j),Ce(p,h,b,j),we(p,s,i),Ie(p)},Ae=function(e){var t=e.countries,n=e.markers,r=e.selectedCountry,i=e.selectedState,o=e.selectedCity,s=e.onSelection,l=e.smallMarkers,d=Object(c.useRef)(null),u=Object(c.useState)(window.innerWidth),j=Object(b.a)(u,2),p=j[0],O=j[1],h=Object(c.useState)(window.innerHeight),y=Object(b.a)(h,2),x=y[0],f=y[1],v=function(){O(window.innerWidth),f(window.innerHeight-64)};return Object(c.useEffect)((function(){window.addEventListener("resize",v),v();var e=r?r.states:void 0,a=r?r.cities:void 0;Te({targetSVG:d.current,height:x,width:p,onSelection:s,countries:t,markers:n,states:e,cities:a,selectedCountry:r,selectedState:i,selectedCity:o,smallMarkers:l})})),Object(a.jsxs)("svg",{className:"ProjectionFlat",ref:d,width:p,height:x,children:[Object(a.jsx)("g",{id:"map-display-globe"}),Object(a.jsx)("g",{id:"map-display-graticule"}),Object(a.jsx)("g",{id:"map-display-countries"}),Object(a.jsx)("g",{id:"map-display-states"}),Object(a.jsx)("g",{id:"map-display-cities"}),Object(a.jsx)("g",{id:"map-display-markers"}),Object(a.jsx)("g",{id:"map-display-events"})]})},Ee=function(e){var t=je()[1];return Object(a.jsx)("div",{className:"WorldMap",children:Object(a.jsx)(Ae,Object(se.a)(Object(se.a)({},e),{},{onSelection:function(e){t({nextPath:"/country/".concat(e.id)})}}))})},Pe=function(e,t,n,a,c){if(e){var r=JSON.parse(e.outline),i=be.b(r),o=be.a(r),s=be.c(o[0],o[1]),l=Math.max(n,t)/s/Math.sqrt(c);a.rotate([-i[0],-i[1]]),a.scale(l)}},Re=n(220),De=function(e,t,n){Object(Re.a)().projection(t).northUp(!0).onMove((function(t){return function(e,t,n){t.selectAll("path").attr("d",n),t.selectAll("circle").attr("transform",e.transform)}(t,e,n)}))(e.node())},Me=function(e,t,n){var a=.005,c=-15,r=0;return be.l((function(i){t.rotate([-1*(a*i-500),c,r]),e.selectAll("path").attr("d",n)}))},Le=function(e){var t,n=e.targetSVG,a=e.height,c=e.width,r=e.onSelection,i=e.countries,o=e.states,s=e.cities,l=e.markers,d=e.selectedCountry,u=e.selectedState,j=e.selectedCity,b=e.smallMarkers,p=e.enableRotation,O=j||u||d,h=be.k(n),y=Math.min(c,a)/2-20,x=be.f().translate([c/2,a/2]).scale(y).clipAngle(90),f=be.g().projection(x);return Pe(O,c,a,x,2.8),Se(h),pe(h,f),Oe(h,f),he(h,f,i,d,r),ye(h,f,o,u,r),xe(h,f,s,j,r),ge(h,f,l,b),Ce(h,x,O,b),we(h,l,o),De(h,x,f),!0===p&&(t=Me(h,x,f)),t},We=function(e){var t=e.selectedCountry,n=Object(c.useRef)(null),r=Object(c.useState)(window.innerWidth),i=Object(b.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(window.innerHeight),d=Object(b.a)(l,2),u=d[0],j=d[1],p=function(){s(window.innerWidth),j(window.innerHeight-64)};return Object(c.useEffect)((function(){window.addEventListener("resize",p),p();var a=t?t.states:void 0,c=t?t.cities:void 0,r=Le(Object(se.a)({targetSVG:n.current,height:u,width:o,states:a,cities:c},e));return function(){r&&r.stop()}})),Object(a.jsxs)("svg",{className:"Projection3D",ref:n,width:o,height:u,children:[Object(a.jsx)("g",{id:"map-display-globe"}),Object(a.jsx)("g",{id:"map-display-graticule"}),Object(a.jsx)("g",{id:"map-display-countries"}),Object(a.jsx)("g",{id:"map-display-states"}),Object(a.jsx)("g",{id:"map-display-cities"}),Object(a.jsx)("g",{id:"map-display-markers"}),Object(a.jsx)("g",{id:"map-display-events"})]})},Ge=(n(304),function(e){var t=je()[1];return Object(a.jsx)("div",{className:"worldGlobe",children:Object(a.jsx)(We,Object(se.a)(Object(se.a)({},e),{},{onSelection:function(e){t({nextPath:"/country/".concat(e.id)})}}))})}),$e=n(378),Ye=(n(305),Object($e.a)((function(e){return{indicator:{fontSize:"x-small",paddingLeft:e.spacing(2)}}}))),Ue=function(e){var t=e.country,n=e.colorScale,c=t.name,r=t.eventCount,i=je()[1],o=Ye(),s={color:n(t.eventCount)};return Object(a.jsx)("div",{className:"CountryOverview",children:Object(a.jsx)(oe.a,{m:1,children:Object(a.jsxs)(y.a,{variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){i({nextPath:"/country/".concat(t.id)})},children:[Object(a.jsx)("span",{children:c}),r&&Object(a.jsx)("span",{className:o.indicator,style:s,children:r?r.toLocaleString():""})]})})})},Be=function(e,t){return e.reduce((function(e,n){var a=n[t];return e[0]||(e[0]=a),e[1]||(e[1]=a),e[0]>a&&(e[0]=a),e[1]<a&&(e[1]=a),e}),[void 0,void 0])},Fe=function(e,t){var n=be.i().domain([e,t]);return be.j((function(e){return be.h(n(e))}))},Ve=function(e){var t=e.countries,n=Be(t,"eventCount"),c=Object(b.a)(n,2),r=c[0],i=c[1],o=Fe(r,i);return Object(a.jsx)("div",{className:"WorldData",children:t.map((function(e){return Object(a.jsx)(Ue,{country:e,colorScale:o},e.id)}))})},Je=n(29),qe=n.n(Je),He=n(93),ze=n(24),_e=n(183),Ke=n.n(_e),Qe=n(381),Xe=n(217),Ze=n.n(Xe),et=n(216),tt=n.n(et),nt=n(380),at=n(119),ct=n.n(at),rt=n(387);function it(){var e=Object(ze.a)(["\n  query places($match: String!) {\n    places(match: $match) {\n      id\n      name\n      countryName\n      countryId\n      displayOrder\n      type\n    }\n  }\n"]);return it=function(){return e},e}var ot=Object($e.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),st=Ke()(it()),lt=function(e){var t=e.open,n=e.onClose,i=Object(c.useState)(null),o=Object(b.a)(i,2),s=o[0],l=o[1],d=ot(),j=je()[1],y=Object(u.useLazyQuery)(st),f=Object(b.a)(y,2),v=f[0],m=f[1].data,C=(m||{}).places;return Object(a.jsx)("div",{children:Object(a.jsxs)(nt.a,{fullScreen:!0,fullWidth:!0,maxWidth:"md",open:t,onClose:n,children:[Object(a.jsx)(p.a,{className:d.appBar,children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(h.a,{variant:"h6",className:d.title,children:"Find Place"}),Object(a.jsx)(x.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close",children:Object(a.jsx)(ct.a,{})})]})}),Object(a.jsx)(oe.a,{p:2,children:Object(a.jsx)(rt.a,{value:s,onChange:function(e){var t=e.target.value;l(t),t&&t.length>=3&&v({variables:{match:t}})},variant:"outlined",noValidate:!0,autoComplete:"off",fullWidth:!0,autoFocus:!0,placeholder:"Type a Country, State, or City"})}),C&&Object(a.jsx)(g.a,{children:C.map((function(e){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(S.a,{button:!0,onClick:function(){return function(e){var t;n(),"COUNTRY"===e.type?t="/country/".concat(e.id):"STATE"===e.type?t="/country/".concat(e.countryId,"/state/").concat(e.id):"CITY"===e.type&&(t="/country/".concat(e.countryId,"/city/").concat(e.id)),j({nextPath:t})}(e)},children:Object(a.jsx)(I.a,{primary:e.name,secondary:e.countryName})}),Object(a.jsx)(w.a,{})]})}))})]})})};function dt(){var e=Object(ze.a)(["\n  mutation LOGIN($username: String, $password: String) {\n    login(username: $username, password: $password) {\n      id\n      role\n      session\n    }\n  }\n"]);return dt=function(){return e},e}var ut=Ke()(dt()),jt=Object($e.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),bt=function(e){var t=e.open,n=e.onClose,r=Object(u.useApolloClient)(),i=Object(c.useState)(""),o=Object(b.a)(i,2),s=o[0],l=o[1],d=Object(c.useState)(""),j=Object(b.a)(d,2),f=j[0],v=j[1],m=function(){var e=Object(He.a)(qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.mutate({mutation:ut,variables:{username:s,password:f}}).then((function(e){return console.log(e)}));case 2:return e.next=4,r.resetStore();case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=jt();return Object(a.jsx)("div",{children:Object(a.jsxs)(nt.a,{maxWidth:"md",open:t,onClose:n,children:[Object(a.jsx)(p.a,{className:g.appBar,children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(h.a,{variant:"h6",className:g.title,children:"Login"}),Object(a.jsx)(x.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close",children:Object(a.jsx)(ct.a,{})})]})}),Object(a.jsx)(oe.a,{p:2,children:Object(a.jsx)(rt.a,{value:s,variant:"outlined",noValidate:!0,autoComplete:"off",fullWidth:!0,autoFocus:!0,placeholder:"UserName",onChange:function(e){l(e.target.value)}})}),Object(a.jsx)(oe.a,{p:2,children:Object(a.jsx)(rt.a,{value:f,variant:"outlined",noValidate:!0,autoComplete:"off",fullWidth:!0,autoFocus:!0,placeholder:"Password",type:"password",onChange:function(e){v(e.target.value)}})}),Object(a.jsx)(oe.a,{p:2,children:Object(a.jsx)(y.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:m,children:"Connect To Terrorism Database"})})]})})};function pt(){var e=Object(ze.a)(["\n    mutation LOGOUT {\n      logout {\n        id\n        role\n        session\n      }\n    }\n  "]);return pt=function(){return e},e}var Ot=Object($e.a)((function(e){return{goto:{marginRight:e.spacing(1),paddingRight:e.spacing(1),cursor:"pointer",opacity:.75},focused:{marginRight:e.spacing(1),paddingRight:e.spacing(1)}}})),ht=function(){return Object(a.jsx)("div",{style:{flexGrow:1}})},yt=function(e){var t=e.viewer,n=e.show,r=e.overlay,i=e.country,o=e.state,s=e.city,l=je()[1],d=Ot(),j=Object(c.useState)(!1),f=Object(b.a)(j,2),v=f[0],m=f[1],g=Object(c.useState)(!1),C=Object(b.a)(g,2),w=C[0],S=C[1],k=void 0===i,I=void 0!==i&&void 0===o&&void 0===s,N=void 0!==o,T=void 0!==s,A="DATA"===n||""===n||void 0===n,E="GLOBE"===n,P="MAP"===n,R="NONE"===r||""===r||void 0===r,D="TERRORISM"===r,M=t&&t.role&&"AUTHENTICATED"===t.role,L=function(e){l({nextShow:e})},W=function(e){l({nextOverlay:e})},G=Ke()(pt()),$=Object(u.useApolloClient)(),Y=function(){var e=Object(He.a)(qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(He.a)(qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.mutate({mutation:G}).then((function(e){return console.log(e)}));case 2:return e.next=4,$.resetStore();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(p.a,{position:"sticky",children:[Object(a.jsxs)(O.a,{children:[Object(a.jsx)(x.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){m(!0)},children:Object(a.jsx)(ce.a,{})}),Object(a.jsx)(h.a,{className:k?d.focused:d.goto,variant:"h6",onClick:function(){l({nextPath:"/world"})},children:"World"}),i&&Object(a.jsxs)(h.a,{className:I?d.focused:d.goto,variant:"h6",onClick:function(){l({nextPath:"/country/".concat(i.id)})},children:["\xa0 ",i.name]}),o&&Object(a.jsxs)(h.a,{className:N?d.focused:d.goto,variant:"h6",children:["\xa0 ",o.name]}),"\xa0",s&&Object(a.jsx)(h.a,{className:T?d.focused:d.goto,variant:"h6",children:s.name}),Object(a.jsx)(ht,{}),Object(a.jsx)(oe.a,{pr:2,children:Object(a.jsx)(h.a,{color:"textSecondary",children:"Show"})}),Object(a.jsxs)(Qe.a,{variant:"outlined",disableElevation:!0,children:[Object(a.jsx)(y.a,{disabled:!0===A,onClick:function(){return L("DATA")},children:"Data"}),Object(a.jsx)(y.a,{disabled:!0===P,onClick:function(){return L("MAP")},children:"Map"}),Object(a.jsx)(y.a,{disabled:!0===E,onClick:function(){return L("GLOBE")},children:"Globe"})]}),Object(a.jsx)(oe.a,{pr:2,pl:4,children:Object(a.jsx)(h.a,{color:"textSecondary",children:"Overlay"})}),Object(a.jsxs)(Qe.a,{variant:"outlined",disableElevation:!0,children:[Object(a.jsx)(y.a,{disabled:!0===R,onClick:function(){return W("NONE")},children:"None"}),Object(a.jsx)(y.a,{disabled:!0===D,onClick:function(){return W("TERRORISM")},children:"Terrorism"})]}),M?Object(a.jsx)(x.a,{edge:"end","aria-label":"menu",onClick:U,children:Object(a.jsx)(tt.a,{})}):Object(a.jsx)(x.a,{edge:"end",color:"inherit","aria-label":"menu",onClick:Y,children:Object(a.jsx)(Ze.a,{})})]}),Object(a.jsx)(lt,{open:v,onClose:function(){m(!1)}}),Object(a.jsx)(bt,{open:w,onClose:function(){S(!1)}})]})};function xt(){var e=Object(ze.a)(["\n  query WORLD {\n    viewer {\n      id\n      role\n    }\n    information {\n      countries {\n        id\n        name\n        iso3Code\n        iso2Code\n        outline\n      }\n    }\n  }\n"]);return xt=function(){return e},e}var ft=Ke()(xt());function vt(){var e=Object(ze.a)(["\n  query WORLD_WITH_DATA {\n    viewer {\n      id\n      role\n\n      globalMarkers {\n        id\n        latitude\n        longitude\n        eventCount\n      }\n\n      globalCounts {\n        id\n        eventCount\n      }\n    }\n\n    information {\n      countries {\n        id\n        name\n        iso3Code\n        iso2Code\n        outline\n      }\n    }\n  }\n"]);return vt=function(){return e},e}var mt=Ke()(vt()),gt=(n(310),function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],i=de(),o=ue(),s="TERRORISM"===o?mt:ft,l=Object(u.useQuery)(s),d=l.loading,j=l.error,p=l.data;if(d)return Object(a.jsx)("p",{children:"Loading..."});if(j)return Object(a.jsxs)("p",{children:["Error :( ",j.message]});var O,h=p.viewer,x=p.information,f=h||{},v=f.globalMarkers,m=f.globalCounts,g=x.countries;if(m){var C,w=Object(ie.a)(m);try{var S=function(){var e=C.value,t=g.find((function(t){return t.id===e.id}));t&&(t.eventCount=e.eventCount)};for(w.s();!(C=w.n()).done;)S()}catch(I){w.e(I)}finally{w.f()}}O="MAP"===i?Object(a.jsx)(Ee,{countries:g,markers:v}):"GLOBE"===i?Object(a.jsx)(Ge,{countries:g,markers:v,enableRotation:n}):Object(a.jsx)(Ve,{countries:g});var k="MAP"===i||"GLOBE"===i?"overflow-hidden":"";return Object(a.jsxs)(oe.a,{className:"WorldPage full-page "+k,children:["GLOBE"===i&&Object(a.jsx)("div",{style:{position:"absolute",bottom:24,right:24},children:Object(a.jsxs)(y.a,{onClick:function(){r(!n)},children:["Rotate ",n]})}),Object(a.jsx)(yt,{show:i,overlay:o,viewer:h}),Object(a.jsx)(J.a,{className:"fill-area",maxWidth:!1,disableGutters:!0,children:O})]})}),Ct=Object($e.a)((function(e){return{padded:{margin:e.spacing(1),padding:e.spacing(1)},indicator:{fontSize:"x-small",paddingLeft:e.spacing(2)}}})),wt=function(e){var t=e.country,n=e.state,c=e.colorScale,r=n.name,i=n.id,o=n.eventCount,s=t.id,l=je()[1],d=Ct(),u={color:c(n.eventCount)};return Object(a.jsxs)(y.a,{className:d.padded,variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){l({nextPath:"/country/".concat(s,"/state/").concat(i)})},children:[Object(a.jsx)("span",{children:r}),o&&Object(a.jsx)("span",{className:d.indicator,style:u,children:o?o.toLocaleString():""})]})},St=Object($e.a)((function(e){return{padded:{margin:e.spacing(1),padding:e.spacing(1)},indicator:{fontSize:"x-small",paddingLeft:e.spacing(2)}}})),kt=function(e){var t=e.city,n=e.country,c=e.colorScale,r=t.name,i=t.id,o=t.eventCount,s=n.id,l=St(),d=je()[1],u={color:c(t.eventCount)};return Object(a.jsxs)(y.a,{className:l.padded,variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){d({nextPath:"/country/".concat(s,"/city/").concat(i)})},children:[Object(a.jsx)("span",{children:r}),o&&Object(a.jsx)("span",{className:l.indicator,style:u,children:o?o.toLocaleString():""})]})},It=function(e){var t=e.country,n=e.states,c=e.cities,r=Be(n,"eventCount"),i=Object(b.a)(r,2),o=i[0],s=i[1],l=Be(c,"eventCount"),d=Object(b.a)(l,2),u=d[0],j=d[1],p=Fe(o,s),O=Fe(u,j);return Object(a.jsxs)("div",{className:"CountryData",children:[Object(a.jsx)(oe.a,{pl:1,pt:3,children:Object(a.jsx)(h.a,{variant:"h4",color:"primary",children:"States"})}),n.map((function(e){return Object(a.jsx)(wt,{country:t,state:e,colorScale:p},e.id)})),Object(a.jsx)(oe.a,{pl:1,pt:3,children:Object(a.jsx)(h.a,{variant:"h4",color:"primary",children:"Cities"})}),c.map((function(e){return Object(a.jsx)(kt,{country:t,city:e,colorScale:O},e.id)}))]})},Nt=function(e){var t=e.selectedCountry,n=je()[1];return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(Ae,Object(se.a)(Object(se.a)({},e),{},{onSelection:function(e){var a;"COUNTRY"===e.type?a="/country/".concat(e.id):"STATE"===e.type?a="/country/".concat(t.id,"/state/").concat(e.id):"CITY"===e.type&&(a="/country/".concat(t.id,"/city/").concat(e.id)),n({nextPath:a})},smallMarkers:!0}))})},Tt=function(e){var t=e.selectedCountry,n=je()[1];return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(We,Object(se.a)(Object(se.a)({},e),{},{onSelection:function(e){var a;"COUNTRY"===e.type?a="/country/".concat(e.id):"STATE"===e.type?a="/country/".concat(t.id,"/state/").concat(e.id):"CITY"===e.type&&(a="/country/".concat(t.id,"/city/").concat(e.id)),n({nextPath:a})},smallMarkers:!0}))})};function At(){var e=Object(ze.a)(["\n  query COUNTRY($countryId: ID) {\n    viewer {\n      id\n      role\n    }\n    information {\n      countries {\n        id\n        name\n        iso3Code\n        iso2Code\n        outline\n      }\n\n      country(id: $countryId) {\n        id\n        name\n\n        outline\n\n        states {\n          id\n          name\n          hascCode\n\n          outline\n        }\n\n        cities {\n          id\n          name\n\n          outline\n        }\n      }\n    }\n  }\n"]);return At=function(){return e},e}var Et=Ke()(At());function Pt(){var e=Object(ze.a)(["\n  query COUNTRY_WITH_MARKERS($countryId: ID) {\n    viewer {\n      id\n      role\n\n      countryCounts(id: $countryId) {\n        id\n        eventCount\n      }\n\n      countryMarkers(id: $countryId) {\n        id\n        latitude\n        longitude\n        eventCount\n      }\n    }\n\n    information {\n      countries {\n        id\n        name\n        iso3Code\n        iso2Code\n        outline\n      }\n\n      country(id: $countryId) {\n        id\n        name\n\n        outline\n\n        states {\n          id\n          name\n          hascCode\n\n          outline\n        }\n\n        cities {\n          id\n          name\n\n          outline\n        }\n      }\n    }\n  }\n"]);return Pt=function(){return e},e}var Rt=Ke()(Pt()),Dt=function(){var e=Object(l.h)().countryId,t=de(),n=ue(),c="TERRORISM"===n?Rt:Et,r=Object(u.useQuery)(c,{variables:{countryId:e}}),i=r.loading,o=r.error,s=r.data;if(i)return Object(a.jsx)("p",{children:"Loading..."});if(o)return Object(a.jsx)("p",{children:"Error :( "});var d,j=s.viewer,b=s.information,p=j||{},O=p.countryMarkers,h=p.countryCounts,y=b.countries,x=b.country,f=x.states||[],v=x.cities||[];if(h){var m,g=Object(ie.a)(h);try{var C=function(){var e=m.value,t=f.find((function(t){return t.id===e.id})),n=v.find((function(t){return t.id===e.id}));t?t.eventCount=e.eventCount:n&&(n.eventCount=e.eventCount)};for(g.s();!(m=g.n()).done;)C()}catch(w){g.e(w)}finally{g.f()}}return d="MAP"===t?Object(a.jsx)(Nt,{countries:y,selectedCountry:x,states:f,cities:v,markers:O}):"GLOBE"===t?Object(a.jsx)(Tt,{countries:y,selectedCountry:x,states:f,cities:v,markers:O}):Object(a.jsx)(It,{country:x,states:f,cities:v}),Object(a.jsxs)(oe.a,{className:"CountryPage full-page",children:[Object(a.jsx)(yt,{show:t,overlay:n,country:x}),Object(a.jsx)(J.a,{className:"fill-area",maxWidth:!1,disableGutters:!0,children:d})]})},Mt=n(221),Lt=n(382),Wt=n(383),Gt=n(384),$t=n(385),Yt=function(e){var t=e.event.additionalNotes;return Object(a.jsx)(oe.a,{pb:1,children:Object(a.jsx)(h.a,{variant:"body2",children:t})})},Ut=function(e){var t=e.event,n=t.numberKilled,c=t.numberWounded;return Object(a.jsxs)(oe.a,{pb:1,children:[Object(a.jsxs)(h.a,{variant:"caption",display:"inline",children:[Object(a.jsx)("span",{children:"Killed: "}),Object(a.jsx)("span",{children:n})]}),Object(a.jsx)("span",{children:"\xa0"}),Object(a.jsxs)(h.a,{variant:"caption",display:"inline",children:[Object(a.jsx)("span",{children:"Wounded: "}),Object(a.jsx)("span",{children:c})]})]})},Bt=function(e){var t=e.event,n=t.targetType,c=t.targetDetails;return Object(a.jsxs)(oe.a,{pb:1,children:[Object(a.jsx)(h.a,{variant:"caption",display:"inline",children:Object(a.jsx)("span",{children:"Target: "})}),Object(a.jsx)(h.a,{variant:"body2",display:"inline",color:"primary",children:Object(a.jsx)("span",{children:n})}),Object(a.jsx)(h.a,{variant:"caption",display:"inline",children:Object(a.jsxs)("span",{children:[" ",c]})})]})},Ft=function(e){var t=e.event,n=t.weaponType,c=t.weaponDetails;return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(h.a,{variant:"caption",display:"inline",children:Object(a.jsx)("span",{children:"Weapons : "})}),Object(a.jsx)(h.a,{variant:"body2",display:"inline",color:"primary",children:Object(a.jsx)("span",{children:n})}),Object(a.jsx)(h.a,{variant:"caption",display:"inline",children:Object(a.jsxs)("span",{children:[" ",c]})})]})})},Vt=function(e){var t=e.event,n=t.date?Object(Mt.a)(new Date(t.date),"PPPP"):"";return Object(a.jsx)("div",{className:"EventDetails",children:Object(a.jsx)(oe.a,{p:2,children:Object(a.jsxs)(Lt.a,{variant:"outlined",children:[Object(a.jsx)(Wt.a,{title:t.perpetratorName,subheader:n}),Object(a.jsxs)(Gt.a,{children:[Object(a.jsx)(Ut,{event:t}),Object(a.jsx)(Bt,{event:t}),Object(a.jsx)(Ft,{event:t})]}),Object(a.jsx)($t.a,{children:Object(a.jsx)(Yt,{event:t})})]})})})},Jt=function(e){var t=e.events;return Object(a.jsx)("div",{className:"StateData",children:t&&t.map((function(e){return Object(a.jsx)(Vt,{event:e})}))})},qt=function(e){var t=e.selectedCountry,n=je()[1];return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(Ae,Object(se.a)(Object(se.a)({},e),{},{onSelection:function(e){var a;"COUNTRY"===e.type?a="/country/".concat(e.id):"STATE"===e.type?a="/country/".concat(t.id,"/state/").concat(e.id):"CITY"===e.type&&(a="/country/".concat(t.id,"/city/").concat(e.id)),n({nextPath:a})},smallMarkers:!0}))})},Ht=function(e){var t=e.selectedCountry,n=je()[1];return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(We,Object(se.a)(Object(se.a)({},e),{},{onSelection:function(e){var a;"COUNTRY"===e.type?a="/country/".concat(e.id):"STATE"===e.type?a="/country/".concat(t.id,"/state/").concat(e.id):"CITY"===e.type&&(a="/country/".concat(t.id,"/city/").concat(e.id)),n({nextPath:a})},smallMarkers:!0}))})};function zt(){var e=Object(ze.a)(["\n  query STATE($countryId: ID, $stateId: ID) {\n    viewer {\n      id\n      role\n    }\n    information {\n      countries {\n        id\n        name\n        iso3Code\n        iso2Code\n        outline\n      }\n\n      country(id: $countryId) {\n        id\n        name\n\n        outline\n\n        states {\n          id\n          name\n          hascCode\n\n          outline\n        }\n\n        state(id: $stateId) {\n          id\n          name\n          hascCode\n\n          outline\n        }\n      }\n    }\n  }\n"]);return zt=function(){return e},e}var _t=Ke()(zt());function Kt(){var e=Object(ze.a)(["\n  query STATE_WITH_EVENTS($countryId: ID, $stateId: ID) {\n    viewer {\n      id\n      role\n\n      events: stateEvents(id: $stateId) {\n        id\n        date\n        latitude\n        longitude\n        countryName\n        stateName\n        cityName\n        countryId\n        stateId\n        cityId\n        centerJson\n        isSuccess\n        numberKilled\n        numberWounded\n        attackType\n        attackDetails\n        targetType\n        targetDetails\n        targetNationality\n        perpetratorName\n        perpetratorMotive\n        weaponType\n        weaponDetails\n        additionalNotes\n      }\n    }\n\n    information {\n      countries {\n        id\n        name\n        iso3Code\n        iso2Code\n        outline\n      }\n\n      country(id: $countryId) {\n        id\n        name\n\n        outline\n\n        states {\n          id\n          name\n          hascCode\n\n          outline\n        }\n\n        state(id: $stateId) {\n          id\n          name\n          hascCode\n\n          outline\n        }\n      }\n    }\n  }\n"]);return Kt=function(){return e},e}var Qt=Ke()(Kt()),Xt=function(){var e=Object(l.h)(),t=e.countryId,n=e.stateId,c=de(),r=ue(),i="TERRORISM"===r?Qt:_t,o=Object(u.useQuery)(i,{variables:{countryId:t,stateId:n}}),s=o.loading,d=o.error,j=o.data;if(s)return Object(a.jsx)("p",{children:"Loading..."});if(d)return Object(a.jsxs)("pre",{children:[JSON.stringify(d,null,2)," "]});var b=j.viewer,p=j.information,O=(b||{}).events,h=p.country,y=p.countries,x=y.states,f=h.state,v=Object(a.jsx)(Jt,{state:f,events:O});return"MAP"===c?v=Object(a.jsx)(qt,{countries:y,selectedCountry:h,selectedState:f,states:x,markers:O}):"GLOBE"===c&&(v=Object(a.jsx)(Ht,{countries:y,selectedCountry:h,selectedState:f,states:x,markers:O})),Object(a.jsxs)(oe.a,{className:"StatePage full-page",children:[Object(a.jsx)(yt,{show:c,overlay:r,country:h,state:f}),Object(a.jsx)(J.a,{className:"fill-area",maxWidth:!1,disableGutters:!0,children:v})]})},Zt=function(e){var t=e.events;return Object(a.jsx)("div",{className:"CityData",children:t&&t.map((function(e){return Object(a.jsx)(Vt,{event:e})}))})},en=function(e){var t=e.selectedCountry,n=je()[1];return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(Ae,Object(se.a)(Object(se.a)({},e),{},{onSelection:function(e){var a;"COUNTRY"===e.type?a="/country/".concat(e.id,"?show=map"):"STATE"===e.type?a="/country/".concat(t.id,"/state/").concat(e.id,"?show=map"):"CITY"===e.type&&(a="/country/".concat(t.id,"/city/").concat(e.id,"?show=map")),n({nextPath:a})}}))})},tn=function(e){var t=e.selectedCountry,n=je()[1];return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(We,Object(se.a)(Object(se.a)({},e),{},{onSelection:function(e){var a;"COUNTRY"===e.type?a="/country/".concat(e.id,"?show=globe"):"STATE"===e.type?a="/country/".concat(t.id,"/state/").concat(e.id,"?show=globe"):"CITY"===e.type&&(a="/country/".concat(t.id,"/city/").concat(e.id,"?show=globe")),n({nextPath:a})}}))})};function nn(){var e=Object(ze.a)(["\n  query CITY($countryId: ID, $cityId: ID) {\n    viewer {\n      id\n      role\n    }\n    information {\n      countries {\n        id\n        name\n\n        outline\n      }\n\n      country(id: $countryId) {\n        id\n        name\n\n        outline\n\n        city(id: $cityId) {\n          id\n          name\n\n          outline\n        }\n      }\n    }\n  }\n"]);return nn=function(){return e},e}var an=Ke()(nn());function cn(){var e=Object(ze.a)(["\n  query CITY_WITH_EVENTS($countryId: ID, $cityId: ID) {\n    viewer {\n      id\n      role\n\n      events: cityEvents(id: $cityId) {\n        id\n        date\n        latitude\n        longitude\n        countryName\n        stateName\n        cityName\n        countryId\n        stateId\n        cityId\n        centerJson\n        isSuccess\n        numberKilled\n        numberWounded\n        attackType\n        attackDetails\n        targetType\n        targetDetails\n        targetNationality\n        perpetratorName\n        perpetratorMotive\n        weaponType\n        weaponDetails\n        additionalNotes\n      }\n    }\n\n    information {\n      countries {\n        id\n        name\n\n        outline\n      }\n\n      country(id: $countryId) {\n        id\n        name\n\n        outline\n\n        city(id: $cityId) {\n          id\n          name\n\n          outline\n        }\n      }\n    }\n  }\n"]);return cn=function(){return e},e}var rn=Ke()(cn()),on=function(){var e=Object(l.h)(),t=e.countryId,n=e.cityId,c=de(),r=ue(),i="TERRORISM"===r?rn:an,o=Object(u.useQuery)(i,{variables:{countryId:t,cityId:n}}),s=o.loading,d=o.error,j=o.data;if(s)return Object(a.jsx)("p",{children:"Loading..."});if(d)return Object(a.jsxs)("pre",{children:[JSON.stringify(d,null,2)," "]});var b=j.viewer,p=j.information,O=(b||{}).events,h=p.country,y=p.countries,x=y.cities,f=h.city,v=Object(a.jsx)(Zt,{city:f,events:O});return"MAP"===c?v=Object(a.jsx)(en,{countries:y,selectedCountry:h,selectedCity:f,cities:x,markers:O}):"GLOBE"===c&&(v=Object(a.jsx)(tn,{countries:y,selectedCountry:h,selectedCity:f,cities:x,markers:O})),Object(a.jsxs)(oe.a,{className:"CityPage full-page",children:[Object(a.jsx)(yt,{show:c,overlay:r,country:h,city:f}),Object(a.jsx)(J.a,{className:"fill-area",maxWidth:!1,disableGutters:!0,children:v})]})},sn=(n(311),new d.a({uri:"https://worlddata.keldan.org.uk",credentials:"include"}));var ln=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(j.a,{}),Object(a.jsx)(u.ApolloProvider,{client:sn,children:Object(a.jsx)(s.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/country/:countryId/city/:cityId",children:Object(a.jsx)(on,{})}),Object(a.jsx)(l.a,{path:"/country/:countryId/state/:stateId",children:Object(a.jsx)(Xt,{})}),Object(a.jsx)(l.a,{path:"/country/:countryId",children:Object(a.jsx)(Dt,{})}),Object(a.jsx)(l.a,{path:"/world",children:Object(a.jsx)(gt,{})}),Object(a.jsx)(l.a,{path:"/test",children:Object(a.jsx)(re,{})}),Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(gt,{})})]})})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(ln,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[312,1,2]]]);
//# sourceMappingURL=main.52a28fb5.chunk.js.map